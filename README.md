# Chattrbox

перед запусом приложения не забудь сделать npm install

Chat  = browser app + server

start: npm run dev
babel: npm run watch

использован протокол WebSocets

модуль moment для управлением отображения времени отправки сообщения

cripti-js/md5 для хэширования пути

иконки юзеров бререм с gravatar.com


для эмуляции подключения клиента к серверу исп утилита wscat

wscat -c ws://localhost:3001

____________________________________________


задача: создать возможнось добавлять и переключаться между разными комнатами

1. добавить блок в котором моно выбрать комнату и видеть пользователей, которые в этой комнате есть

   логика хранения сообщений в базе:

   сохранять активных пользователей сайта. Либо создать отдельное событие при регистрации.
   Либо при каждом сообщении проводить проверку на уникальность пользователя(что не эффективно).

   У каждого пользователя должна быть привязка к комнате в которой он находится,
   и при смене комнаты запись в базе по пользователю должна обновляться.

   обработка сообщений происходит на стороне сервера (WebSocketServer)
   сообщения сохраняются в базе данных в виде объекта Message, у сообщения есть
   тэги пользователя написавшего его и комнаты, в которой сообщение было создано.

  Событие должно обновлять поле активных юзеров в комнате

   3. Для обновления списка юзеров, удаляем весь список и отрисовываем заного.

   при переходе в другую комнату создается пустое сообщение пользователя, это связано с логикой переключения комнаты. Сейчас это, по сути новое сообщение. Нужно изменить логику, чтобы пустого сообщения не было.


4. добавить общую валидацию пользователя и возможнось создавать закрытые комнаты с сообственным паролем(каждой комнате должен соответствовать свой объек с данными - пароль, пользователи и сообщения)

5. при отключении сокета удалять соответствующего пользователя из базы
